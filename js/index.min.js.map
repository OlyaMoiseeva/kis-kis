{"version":3,"sources":["index.js"],"names":["document","addEventListener","makeEqpImage","type","img","concat","name","newArr","currentArr","imgNull","imgBad","imgNail","imgGames","imgHouse","page","querySelector","cards","image","square","equipment","price","size","render","arr","_step","_iterator","_createForOfIteratorHelper","item","value","map","i","join","cardWrap","createElement","setAttribute","innerHTML","err","e","f","selectList","Sorted","sortProp","no","attribute","getAttribute","slice","sort","a","b","classList","length","appendChild","event","closest","remove","target","tagName","toLowerCase","_step2","_iterator2","_toConsumableArray","querySelectorAll","add","confirm","reset","priceTo","priceFrom","sqrInpChecked","makeFltrArr","arrChecked","arrAll","_step3","noContent","_iterator3","s","n","done","result","_step4","_iterator4","sqr","sqrInpAll","filter","eqpInpChecked","_step5","_iterator5","eqpInpAll","_step6","_iterator6","eqp","_step7","_iterator7","_step8","_iterator8","checked","window","pageYOffset","header","filterToggle","toggle","burger","menu","body","this"],"mappings":"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","file":"index.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n  // render\n  function makeEqpImage(type) {\n    return {\n      img: `<img class=\"card__icon\" src=\"images/${type}.svg\">`,\n      name: type\n    }\n  }\n\n  const imgNull = makeEqpImage('eqp');\n  const imgBad = makeEqpImage('eqp1');\n  const imgNail = makeEqpImage('eqp2');\n  const imgGames = makeEqpImage('eqp3');\n  const imgHouse = makeEqpImage('eqp4');\n\n  const page = document.querySelector('.page-content__right');\n  \n  const cards = [\n    {\n      image: 'images/cat1.jpg',\n      name: 'Эконом',\n      size: '90x70x180',\n      square: '0,63',\n      equipment: [imgNull],\n      price: 100\n    },\n    {\n      image: 'images/cat2.jpg',\n      name: 'Эконом плюс',\n      size: '90x100x180',\n      square: '0,90',\n      equipment: [imgBad, imgNail],\n      price: 200\n    },\n    {\n      image: 'images/cat3.jpg',\n      name: 'Комфорт',\n      size: '100x125x180',\n      square: '1,13',\n      equipment: [imgBad, imgNail, imgGames],\n      price: 250\n    },\n    {\n      image: 'images/cat4.jpg',\n      name: 'Сьют',\n      size: '125x125x180',\n      square: '1,56',\n      equipment: [imgBad, imgNail, imgGames],\n      price: 350\n    },\n    {\n      image: 'images/cat5.jpg',\n      name: 'Люкс',\n      size: '160x160x180',\n      square: '2,56',\n      equipment: [imgBad, imgNail, imgGames, imgHouse],\n      price: 500\n    },\n    {\n      image: 'images/cat6.jpg',\n      name: 'Супер-Люкс',\n      size: '180x160x180',\n      square: '2,88',\n      equipment: [imgBad, imgNail, imgGames, imgHouse],\n      price: 600\n    }\n  ];\n\n  function render(arr) {\n\n    for (let item of arr) {\n      const card = `\n        <img class=\"card__image\" alt=\"cat\" src=\"${item.image}\">\n        <div class=\"card__content\">\n          <h2 class=\"card__title\">${item.name}</h2>\n          <ul class=\"card__list\">\n            <li class=\"card__list-item\">Размеры <span class=\"card__size\">(ШхГхВ) - ${item.size} см</span></li>\n            <li class=\"card__list-item\">Площадь <span class=\"card__sqr\">- ${item.square} м2</span></li>\n            <li class=\"card__list-item\">Оснащение номера <span class=\"card__eqp\">${item.equipment.map(i => i.img).join(' ')}</span></li>\n            <li class=\"card__list-item\">Цена за сутки: <span class=\"card__price\">${item.price}&#8381;</span></li>\n          </ul>\n          <a class=\"card__button\" href=\"#\">Забронировать</a>\n        </div>\n      `\n      let cardWrap = document.createElement('div');\n      cardWrap.setAttribute('class', 'card');\n      cardWrap.innerHTML = card;\n      page.appendChild(cardWrap);\n      if(newArr) {\n        currentArr = newArr;\n      } else {\n        currentArr = cards;\n      }\n    }\n  }\n  render(cards);\n\n  // select\n  let newArr;\n  let currentArr;\n  const selectList = document.querySelector('.select__list');\n  \n  document.addEventListener('mousedown', function(event) {\n    if(event.target.closest('.select__list') === null) {\n      selectList.classList.remove('select__list--active');\n    }\n  });\n\n  selectList.addEventListener('click', function(event) {\n    const target = event.target;\n    selectList.classList.toggle('select__list--active');\n    if (target.tagName.toLowerCase() === 'li') {\n      const options = [...document.querySelectorAll('.select__item')];\n      for (let i of options) {\n        i.classList.remove('active');\n      }\n      target.classList.add('active');\n      Sorted(currentArr, target);\n    }\n  });\n  \n  function Sorted (arr, sortProp) {\n    const attribute = sortProp.getAttribute('data-sort');\n    \n    (attribute == '1') ? newArr = arr.slice().sort((a, b) => a.square > b.square ? 1 : -1) :\n    (attribute == '2') ? newArr = arr.slice().sort((a, b) => a.square < b.square ? 1 : -1) :\n    (attribute == '3') ? newArr = arr.slice().sort((a, b) => a.price > b.price ? 1 : -1) :\n    (attribute == '4') ? newArr = arr.slice().sort((a, b) => a.price < b.price ? 1 : -1) :\n    newArr = arr;\n    page.innerHTML = '';\n    render(newArr);\n    if (newArr.length === 0) {\n      noContent();\n    }\n  }\n\n  function noContent () {\n    let no = document.createElement('div');\n    no.innerHTML = 'ничего(';\n    page.appendChild(no);\n  }\n\n  // filter\n  const confirm = document.querySelector('.filters__button--confirm');\n  const reset = document.querySelector('.filters__button--reset');\n\n  const priceTo = document.querySelector('.filters__price--to');\n  const priceFrom = document.querySelector('.filters__price--from');\n\n  confirm.addEventListener('click', function() {\n    const sortProp = document.querySelector('.select__item.active');\n\n    const sqrInpChecked = [...document.querySelectorAll('.checkbox__inp--sqr:checked')];\n    const sqrInpAll = [...document.querySelectorAll('.checkbox__inp--sqr')];\n    const eqpInpChecked = [...document.querySelectorAll('.checkbox__inp--eqp:checked')];\n    const eqpInpAll = [...document.querySelectorAll('.checkbox__inp--eqp')];\n\n    function makeFltrArr (arrChecked, arrAll) {\n      const result = [];\n\n      for (let i of arrChecked) {\n        result.push(i.getAttribute('data-value'));\n      }\n      if (result.length === 0) {\n        for (let i of arrAll) {\n          result.push(i.getAttribute('data-value'));\n        }\n      }\n\n      return result;\n    }\n\n    const eqp = makeFltrArr(eqpInpChecked, eqpInpAll);\n    const sqr = makeFltrArr(sqrInpChecked, sqrInpAll);\n    \n    newArr = cards\n      .filter((item) => {\n        for (const s of sqr) {\n          if (item.square === s) {\n            return true;\n          }\n        }\n        \n        return false;\n      })\n      .filter((item) => {\n        for (const e of eqp) {\n          for (let i of item.equipment) {\n            if (i.name === e) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      })\n\n    if (priceTo.value != '' || priceFrom.value != '') {\n      newArr = newArr.filter(item => (priceTo.value != '' ? priceTo.value >= item.price : true) && (priceFrom.value != '' ? item.price >= priceFrom.value : true));\n    }\n    \n    Sorted(newArr, sortProp);\n  });\n\n  reset.addEventListener('click', function() {\n    const allInp = [...document.querySelectorAll('input[type=\"checkbox\"]:checked')];\n    for (let i of allInp) {\n      i.checked = false;\n    }\n    priceTo.value = '';\n    priceFrom.value = '';\n    page.innerHTML = '';\n    render(cards);\n  });\n\n   // header\n  const header = document.getElementById('header');\n\n  window.onscroll = function() {\n    if (window.pageYOffset > 0) {\n        header.classList.add('header--fix');\n    }\n    else if (window.pageYOffset < 120) {\n        header.classList.remove('header--fix');\n    }\n  };\n  // filter toggle\n  const filterToggle = document.querySelector('.filters__mob-spoiler');\n  const filter = document.querySelector('.filters');\n\n  filterToggle.addEventListener('click', function() {\n    filter.classList.toggle('filters--inv');\n    filterToggle.classList.toggle('filters__mob-spoiler--active');\n  });\n\n  // burger toggle\n  const burger = document.querySelector('.burger');\n  const menu = document.querySelector('.header__navbar');\n\n  burger.addEventListener('click', function() {\n    menu.classList.toggle('header__navbar--inv');\n    document.body.classList.toggle('no-scroll');\n    this.classList.toggle('burger--active');\n  });\n\n});"]}